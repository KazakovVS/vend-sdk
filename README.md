# Vend SDK (a PHP client)
An unofficial PHP SDK for Vend POS | https://www.vendhq.com/

## Installation

Still to come.

## How to use

This outlines a typical sequence of instructions, but is not a complete list of all the functionality of the SDK. Please review the code for more advanced usages.

```php
$vend = Vend::getInstance();
$vend->makeClient('User Agent');
```

### Authorisation

You have two options for authorisation with the Vend API, a Personal Access Token or OAuth 2.0.

#### Personal Access Token

When using the Personal Access Token, simply setup the Vend client like so:

```php
$vend->setPersonalAccessToken(string $domainPrefix, string $access_token);
```

#### OAuth 2.0

Setup the Vend client with the OAuth identifiers:

```php
$vend->setOAuthIdentifiers(string $clientID, string $clientSecret, string $redirectURI);
```

##### Initial authorisation procedure

Send the user to the OAuth URL generated by:

```php
$vend->getAuthorisationUrl(string $previousURL);
```

Use the domain prefix and authorisation code returned from the OAuth process:

```php
/** @var \SimpleSquid\Vend\Resources\OneDotZero\Token */
$token = $vend->setOAuthAuthorisationCode(string $domainPrefix, string $code);
```

Make sure you store the returned Token object.

##### Subsequent setup procedure

Once you have received the initial authorisation, you may setup the Vend client using the domain prefix and Token object received during the authorisation process:

```php
$vend->setOAuthAuthorisationToken(string $domainPrefix, Token $token);
```

If a request throws a `\SimpleSquid\Vend\Exceptions\TokenExpiredException`, you can refresh the token like so:

```php
/** @var \SimpleSquid\Vend\Resources\OneDotZero\Token */
$token = $vend->refreshOAuthAuthorisationToken();
```

Again, make sure you store the returned Token object.

### Requests

